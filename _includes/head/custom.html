{% include base_path %}

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="{{ base_path }}/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="{{ base_path }}/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="{{ base_path }}/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="{{ base_path }}/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="{{ base_path }}/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="{{ base_path }}/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="{{ base_path }}/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="{{ base_path }}/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.ico" sizes="32x32">
<link rel="icon" type="image/png" href="{{ base_path }}/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-16x16.ico" sizes="16x16">
<link rel="shortcut icon" type="image/x-icon" href="{{ base_path }}/images/favicon.ico">
<!-- Manifest removed due to CORS issues when using custom domain -->
<link rel="mask-icon" href="{{ base_path }}/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="{{ base_path }}/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="{{ base_path }}/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>

<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "all" } } }); </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- Critical layout fixes -->
<style>
  /* NUCLEAR OVERRIDE - FORCE DARK THEME */
  html, body {
    background: #0a0e27 !important;
    background-image: 
      radial-gradient(at 40% 20%, hsla(240, 100%, 74%, 0.3) 0px, transparent 50%),
      radial-gradient(at 80% 0%, hsla(189, 100%, 56%, 0.3) 0px, transparent 50%),
      radial-gradient(at 0% 50%, hsla(355, 100%, 93%, 0.3) 0px, transparent 50%),
      radial-gradient(at 80% 50%, hsla(340, 100%, 76%, 0.3) 0px, transparent 50%),
      radial-gradient(at 0% 100%, hsla(224, 100%, 88%, 0.3) 0px, transparent 50%),
      radial-gradient(at 80% 100%, hsla(242, 100%, 70%, 0.3) 0px, transparent 50%) !important;
    color: #e2e8f0 !important;
  }
  
  /* Force all text to be light */
  *, *::before, *::after {
    color: inherit !important;
  }
  
  h1, h2, h3, h4, h5, h6 {
    color: #f1f5f9 !important;
  }
  
  p, li, span, div {
    color: #cbd5e1 !important;
  }
  
  a {
    color: #818cf8 !important;
  }
  
  /* Force dark navigation */
  .masthead, .greedy-nav {
    background: rgba(15, 23, 42, 0.95) !important;
    backdrop-filter: blur(20px) !important;
  }
  
  /* Force glassmorphism on main content */
  #main, .page__content, .page {
    background: rgba(15, 23, 42, 0.8) !important;
    backdrop-filter: blur(10px) !important;
    border-radius: 24px !important;
    padding: 2rem !important;
    margin: 2rem auto !important;
  }
  
  /* Force card style on all content blocks */
  .archive__item, .pub-entry, article, section {
    background: rgba(30, 41, 59, 0.5) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(99, 102, 241, 0.3) !important;
    border-radius: 16px !important;
    padding: 1.5rem !important;
    margin-bottom: 1.5rem !important;
  }
  
  /* Emergency footer fix */
  .page__footer {
    position: relative !important;
    bottom: auto !important;
    margin-top: 4em !important;
    height: auto !important;
    padding: 1em 0 !important;
    background: rgba(15, 23, 42, 0.95) !important;
  }
  
  /* Ensure AI assistant is visible */
  #ai-assistant-container {
    position: fixed !important;
    bottom: 20px !important;
    right: 30px !important;
    z-index: 99999 !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    animation: none !important;
  }
  
  #ai-assistant-btn {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  #ai-chat-interface {
    position: fixed !important;
    z-index: 100000 !important;
  }
  
  /* Override any animations that might hide elements */
  #ai-assistant-container * {
    animation: none !important;
    transition: transform 0.2s !important;
  }
</style>

<!-- end custom head snippets -->
